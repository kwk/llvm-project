## In this test we define a "Symbols" entry in the YAML and expect a .symtab
## section to be generated. Notice that this is automatically added even though
## we don't have .symtab listed in the "Sections" entry.

# RUN: yaml2obj %s -o %t
# RUN: llvm-readobj --sections %t | FileCheck -v --color --dump-input=always %s

# CHECK:      Sections [
# CHECK:        Section {
# CHECK:          Name: .symtab (19)
# CHECK-NEXT:     Type: SHT_SYMTAB (0x2)
# CHECK-NEXT:     Flags [ (0x0)
# CHECK-NEXT:     ]
# CHECK-NEXT:     Address: 0x0
# CHECK-NEXT:     Offset: 0x68
# CHECK-NEXT:     Size: 48
# CHECK-NEXT:     Link: 1
# CHECK-NEXT:     Info: 2
# CHECK-NEXT:     AddressAlignment: 8
# CHECK-NEXT:     EntrySize: 24
# CHECK-NEXT:  }
# CHECK-NEXT:]
# CHECK-EMPTY:

--- !ELF
FileHeader:
  Class:           ELFCLASS64
  Data:            ELFDATA2LSB
  Type:            ET_EXEC
  Machine:         EM_X86_64
Symbols:
- Name:            main
...
